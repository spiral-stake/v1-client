{"abi":[{"type":"constructor","inputs":[{"name":"_flashLeverage","type":"address","internalType":"address"},{"name":"_morpho","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"enableRecoveryMode","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"execute","inputs":[{"name":"data","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"result","type":"bytes","internalType":"bytes"}],"stateMutability":"nonpayable"},{"type":"function","name":"flashLeverage","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"initialize","inputs":[{"name":"_user","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"morpho","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"recoveryMode","inputs":[],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"user","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"}],"bytecode":{"object":"0x60c03461008e57601f61055138819003918201601f19168301916001600160401b0383118484101761009257808492604094855283398101031261008e57610052602061004b836100a6565b92016100a6565b9060805260a05260405161049690816100bb823960805181818161014d01528181610210015261028f015260a051818181607e01526102d80152f35b5f80fd5b634e487b7160e01b5f52604160045260245ffd5b51906001600160a01b038216820361008e5756fe6080806040526004361015610012575f80fd5b5f3560e01c90816307a00b1f1461043f5750806309c5eabe1461023f5780631e02700e146101fb5780634f8632ba146101d457806354a844ba1461013b578063c4d66de8146100b15763d8fbc83314610069575f80fd5b346100ad575f3660031901126100ad576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b5f80fd5b346100ad5760203660031901126100ad576004356001600160a01b038116908190036100ad575f546001600160a01b0381166100f6576001600160a01b031916175f55005b60405162461bcd60e51b815260206004820152601e60248201527f5573657250726f78793a20416c726561647920496e697469616c697a656400006044820152606490fd5b346100ad575f3660031901126100ad577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316330361018f575f805460ff60a01b1916600160a01b179055005b60405162461bcd60e51b815260206004820152601760248201527f5573657250726f78793a20556e617574686f72697365640000000000000000006044820152606490fd5b346100ad575f3660031901126100ad575f546040516001600160a01b039091168152602090f35b346100ad575f3660031901126100ad576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b346100ad5760203660031901126100ad5760043567ffffffffffffffff81116100ad57366023820112156100ad57806004013567ffffffffffffffff81116100ad5736602482840101116100ad577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031633036103d4575b60245f9282849360405193849301833781018381520390827f00000000000000000000000000000000000000000000000000000000000000005af13d156103cc573d9067ffffffffffffffff82116103b85760405191601f8101601f19908116603f0116830167ffffffffffffffff8111848210176103b85760405282523d5f602084013e5b1561037a576040602091815192839181835280519182918282860152018484015e5f828201840152601f01601f19168101030190f35b60405162461bcd60e51b8152602060048201526016602482015275155cd95c941c9bde1e4e8810d85b1b0811985a5b195960521b6044820152606490fd5b634e487b7160e01b5f52604160045260245ffd5b606090610344565b5f54909190336001600160a01b0382160361018f5760a01c60ff16156103fa57906102be565b60405162461bcd60e51b815260206004820152601f60248201527f5573657250726f78793a204e6f7420696e205265636f76657279204d6f6465006044820152606490fd5b346100ad575f3660031901126100ad5760209060ff5f5460a01c1615158152f3fea26469706673582212202254098261a6e56e1f4a59888bfe65b61d5c35a9073c9812e31f4603c1ba19df64736f6c634300081e0033","sourceMap":"495:2378:77:-:0;;;;;;;;;;;;;-1:-1:-1;;495:2378:77;;;;-1:-1:-1;;;;;495:2378:77;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;:::i;:::-;1144:30;;;1184:16;;495:2378;;;;;;;;1144:30;495:2378;;;;;;;;;;;;;;;1184:16;495:2378;;;;;;;;;;;;-1:-1:-1;495:2378:77;;;;;;-1:-1:-1;495:2378:77;;;;;-1:-1:-1;495:2378:77;;;;-1:-1:-1;;;;;495:2378:77;;;;;;:::o","linkReferences":{}},"deployedBytecode":{"object":"0x6080806040526004361015610012575f80fd5b5f3560e01c90816307a00b1f1461043f5750806309c5eabe1461023f5780631e02700e146101fb5780634f8632ba146101d457806354a844ba1461013b578063c4d66de8146100b15763d8fbc83314610069575f80fd5b346100ad575f3660031901126100ad576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b5f80fd5b346100ad5760203660031901126100ad576004356001600160a01b038116908190036100ad575f546001600160a01b0381166100f6576001600160a01b031916175f55005b60405162461bcd60e51b815260206004820152601e60248201527f5573657250726f78793a20416c726561647920496e697469616c697a656400006044820152606490fd5b346100ad575f3660031901126100ad577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316330361018f575f805460ff60a01b1916600160a01b179055005b60405162461bcd60e51b815260206004820152601760248201527f5573657250726f78793a20556e617574686f72697365640000000000000000006044820152606490fd5b346100ad575f3660031901126100ad575f546040516001600160a01b039091168152602090f35b346100ad575f3660031901126100ad576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b346100ad5760203660031901126100ad5760043567ffffffffffffffff81116100ad57366023820112156100ad57806004013567ffffffffffffffff81116100ad5736602482840101116100ad577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031633036103d4575b60245f9282849360405193849301833781018381520390827f00000000000000000000000000000000000000000000000000000000000000005af13d156103cc573d9067ffffffffffffffff82116103b85760405191601f8101601f19908116603f0116830167ffffffffffffffff8111848210176103b85760405282523d5f602084013e5b1561037a576040602091815192839181835280519182918282860152018484015e5f828201840152601f01601f19168101030190f35b60405162461bcd60e51b8152602060048201526016602482015275155cd95c941c9bde1e4e8810d85b1b0811985a5b195960521b6044820152606490fd5b634e487b7160e01b5f52604160045260245ffd5b606090610344565b5f54909190336001600160a01b0382160361018f5760a01c60ff16156103fa57906102be565b60405162461bcd60e51b815260206004820152601f60248201527f5573657250726f78793a204e6f7420696e205265636f76657279204d6f6465006044820152606490fd5b346100ad575f3660031901126100ad5760209060ff5f5460a01c1615158152f3fea26469706673582212202254098261a6e56e1f4a59888bfe65b61d5c35a9073c9812e31f4603c1ba19df64736f6c634300081e0033","sourceMap":"495:2378:77:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;495:2378:77;;;;;;824:31;-1:-1:-1;;;;;495:2378:77;;;;;;;;;;;;;;;;-1:-1:-1;;495:2378:77;;;;;;-1:-1:-1;;;;;495:2378:77;;;;;;;;;;-1:-1:-1;;;;;495:2378:77;;;;-1:-1:-1;;;;;;495:2378:77;;;;;;;;-1:-1:-1;;;495:2378:77;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;495:2378:77;;;;2794:13;-1:-1:-1;;;;;495:2378:77;2780:10;:27;495:2378;;;;;-1:-1:-1;;;;495:2378:77;-1:-1:-1;;;495:2378:77;;;;;;;-1:-1:-1;;;495:2378:77;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;495:2378:77;;;;;;;;-1:-1:-1;;;;;495:2378:77;;;;;;;;;;;;;;-1:-1:-1;;495:2378:77;;;;;;713:38;-1:-1:-1;;;;;495:2378:77;;;;;;;;;;;;-1:-1:-1;;495:2378:77;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2183:13;-1:-1:-1;;;;;495:2378:77;2169:10;:27;2165:265;;495:2378;;;;;;;;;;;;;;;;;;;;2482:17;:6;;;:17;;495:2378;;;;;;;;;;;;;;;;;-1:-1:-1;;495:2378:77;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;495:2378:77;;;;;;;;;;-1:-1:-1;;;495:2378:77;;;;;;;;;;;;-1:-1:-1;;;495:2378:77;;;;;;;;;;;;;;;;;;;;;;;;2165:265;495:2378;;;;;2169:10;-1:-1:-1;;;;;495:2378:77;;2242:18;495:2378;;;;;;;;;2238:192;2165:265;;495:2378;;;-1:-1:-1;;;495:2378:77;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;495:2378:77;;;;;;;;;;;;;;;;","linkReferences":{},"immutableReferences":{"50758":[{"start":333,"length":32},{"start":528,"length":32},{"start":655,"length":32}],"50761":[{"start":126,"length":32},{"start":728,"length":32}]}},"methodIdentifiers":{"enableRecoveryMode()":"54a844ba","execute(bytes)":"09c5eabe","flashLeverage()":"1e02700e","initialize(address)":"c4d66de8","morpho()":"d8fbc833","recoveryMode()":"07a00b1f","user()":"4f8632ba"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.30+commit.73712a01\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_flashLeverage\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_morpho\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"enableRecoveryMode\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"execute\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"result\",\"type\":\"bytes\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"flashLeverage\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"morpho\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"recoveryMode\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"user\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"This contract acts as an isolated wallet for each user's leverage positions.      It can only be controlled by the FlashLeverage contract and executes      calls to Morpho protocol on behalf of the user to maintain position isolation.      Uses clone pattern with initialize function for per-user configuration.\",\"kind\":\"dev\",\"methods\":{\"constructor\":{\"params\":{\"_flashLeverage\":\"Address of the FlashLeverage contract\"}},\"enableRecoveryMode()\":{\"details\":\"Only FlashLeverage can trigger recovery mode\"},\"execute(bytes)\":{\"details\":\"Can be called by either FlashLeverage (normal operation) or by the user      (only when recovery mode is enabled). Used to interact with Morpho protocol      (supply, borrow, repay, withdraw) and token approvals.      Reverts if the target call fails for any reason.\",\"params\":{\"data\":\"The encoded function call data to execute\"},\"returns\":{\"result\":\"The return data from the executed call\"}},\"initialize(address)\":{\"details\":\"Called once per clone in the same tx after deployment by the factory\",\"params\":{\"_user\":\"Address of the user who owns this proxy\"}}},\"title\":\"UserProxy\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"constructor\":{\"notice\":\"Sets the immutable flashLeverage address\"},\"enableRecoveryMode()\":{\"notice\":\"Enables recovery mode allowing the user to call `execute`\"},\"execute(bytes)\":{\"notice\":\"Executes arbitrary calls on behalf of this proxy contract\"},\"flashLeverage()\":{\"notice\":\"Address of the FlashLeverage contract that controls this proxy\"},\"initialize(address)\":{\"notice\":\"Initializes the clone with user address\"},\"morpho()\":{\"notice\":\"Address of the Morpho contract to borrow and repay\"},\"recoveryMode()\":{\"notice\":\"Flag indicating whether recovery mode is active\"},\"user()\":{\"notice\":\"Address of the user who owns this proxy and can be initialized only once\"}},\"notice\":\"Minimal proxy contract that holds user positions on Morpho\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/core/FlashLeverage/UserProxy.sol\":\"UserProxy\"},\"evmVersion\":\"prague\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@chainlink/=lib/chainlink/\",\":@morpho/=lib/morpho-blue/src/\",\":@openzeppelin/=lib/openzeppelin-contracts/\",\":@pendle/core-v2/=lib/pendle-core-v2-public/\",\":chainlink/=lib/chainlink/\",\":ds-test/=lib/morpho-blue/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":morpho-blue/=lib/morpho-blue/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":pendle-core-v2-public/=lib/pendle-core-v2-public/contracts/\"],\"viaIR\":true},\"sources\":{\"src/core/FlashLeverage/UserProxy.sol\":{\"keccak256\":\"0xbac940516483f61a079793cc788fe3373341887190a1458db14edd6c146d93fe\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://18ea9e7ea12ae25e08067f9f282c64011c33b2a6ed74245df4f9cdda2aba9684\",\"dweb:/ipfs/QmVLW4MRefzAu7XA4qNC8m8z77LTDpqWXnKUKVaVE8WNmR\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.30+commit.73712a01"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_flashLeverage","type":"address"},{"internalType":"address","name":"_morpho","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"enableRecoveryMode"},{"inputs":[{"internalType":"bytes","name":"data","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"execute","outputs":[{"internalType":"bytes","name":"result","type":"bytes"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"flashLeverage","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"initialize"},{"inputs":[],"stateMutability":"view","type":"function","name":"morpho","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"recoveryMode","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"user","outputs":[{"internalType":"address","name":"","type":"address"}]}],"devdoc":{"kind":"dev","methods":{"constructor":{"params":{"_flashLeverage":"Address of the FlashLeverage contract"}},"enableRecoveryMode()":{"details":"Only FlashLeverage can trigger recovery mode"},"execute(bytes)":{"details":"Can be called by either FlashLeverage (normal operation) or by the user      (only when recovery mode is enabled). Used to interact with Morpho protocol      (supply, borrow, repay, withdraw) and token approvals.      Reverts if the target call fails for any reason.","params":{"data":"The encoded function call data to execute"},"returns":{"result":"The return data from the executed call"}},"initialize(address)":{"details":"Called once per clone in the same tx after deployment by the factory","params":{"_user":"Address of the user who owns this proxy"}}},"version":1},"userdoc":{"kind":"user","methods":{"constructor":{"notice":"Sets the immutable flashLeverage address"},"enableRecoveryMode()":{"notice":"Enables recovery mode allowing the user to call `execute`"},"execute(bytes)":{"notice":"Executes arbitrary calls on behalf of this proxy contract"},"flashLeverage()":{"notice":"Address of the FlashLeverage contract that controls this proxy"},"initialize(address)":{"notice":"Initializes the clone with user address"},"morpho()":{"notice":"Address of the Morpho contract to borrow and repay"},"recoveryMode()":{"notice":"Flag indicating whether recovery mode is active"},"user()":{"notice":"Address of the user who owns this proxy and can be initialized only once"}},"version":1}},"settings":{"remappings":["@chainlink/=lib/chainlink/","@morpho/=lib/morpho-blue/src/","@openzeppelin/=lib/openzeppelin-contracts/","@pendle/core-v2/=lib/pendle-core-v2-public/","chainlink/=lib/chainlink/","ds-test/=lib/morpho-blue/lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","morpho-blue/=lib/morpho-blue/","openzeppelin-contracts/=lib/openzeppelin-contracts/","pendle-core-v2-public/=lib/pendle-core-v2-public/contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/core/FlashLeverage/UserProxy.sol":"UserProxy"},"evmVersion":"prague","libraries":{},"viaIR":true},"sources":{"src/core/FlashLeverage/UserProxy.sol":{"keccak256":"0xbac940516483f61a079793cc788fe3373341887190a1458db14edd6c146d93fe","urls":["bzz-raw://18ea9e7ea12ae25e08067f9f282c64011c33b2a6ed74245df4f9cdda2aba9684","dweb:/ipfs/QmVLW4MRefzAu7XA4qNC8m8z77LTDpqWXnKUKVaVE8WNmR"],"license":"GPL-3.0-or-later"}},"version":1},"id":77}